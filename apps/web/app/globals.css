@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 210 20% 98%;
    --foreground: 224 71% 4%;
    --card: 0 0% 100%;
    --card-foreground: 224 71% 4%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71% 4%;
    --primary: 238 83% 67%;
    --primary-foreground: 210 40% 98%;
    --secondary: 220 14% 96%;
    --secondary-foreground: 224 71% 4%;
    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%;
    --accent: 262 83% 58%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 238 83% 67%;
    --radius: 0;

    /* Custom gradient colors */
    --gradient-start: 238 83% 67%;
    --gradient-end: 262 83% 58%;
    --success: 142 71% 45%;
    --warning: 38 92% 50%;
    --info: 199 89% 48%;
  }

  .dark {
    --background: 224 71% 4%;
    --foreground: 210 40% 98%;
    --card: 224 71% 8%;
    --card-foreground: 210 40% 98%;
    --popover: 224 71% 8%;
    --popover-foreground: 210 40% 98%;
    --primary: 238 83% 67%;
    --primary-foreground: 210 40% 98%;
    --secondary: 215 28% 17%;
    --secondary-foreground: 210 40% 98%;
    --muted: 215 28% 17%;
    --muted-foreground: 217 10% 65%;
    --accent: 262 83% 58%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62% 30%;
    --destructive-foreground: 210 40% 98%;
    --border: 215 28% 17%;
    --input: 215 28% 17%;
    --ring: 238 83% 67%;
  }
}

@layer base {
  * {
    @apply border-border;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Noto Sans KR', 'Noto Sans JP', 'Noto Sans SC', sans-serif;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Noto Sans KR', 'Noto Sans JP', 'Noto Sans SC', sans-serif;
  }

  /* 숫자 입력 필드 화살표(스피너) 숨기기 */
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    appearance: none;
    margin: 0;
  }

  input[type="number"] {
    -moz-appearance: textfield;
    appearance: textfield;
  }
}

@layer utilities {
  .gradient-primary {
    @apply bg-gradient-to-r from-[hsl(238, 83%, 67%)] to-[hsl(262, 83%, 58%)];
  }

  .gradient-card {
    @apply bg-gradient-to-br from-white to-slate-50;
  }

  .glass {
    @apply bg-white/80 backdrop-blur-md;
  }

  .card-hover {
    @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-1;
  }

  .sidebar-gradient {
    @apply bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-[hsl(238, 83%, 67%)] to-[hsl(262, 83%, 58%)] bg-clip-text text-transparent;
  }

  /* Custom Scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #334155;
    border-radius: 2px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #475569;
  }
}

/* Tiptap Rich Text Editor Styles */
.tiptap {
  outline: none;
}

.tiptap p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  float: left;
  color: #9ca3af;
  pointer-events: none;
  height: 0;
}

.tiptap h1 {
  font-size: 2rem;
  font-weight: 700;
  line-height: 1.2;
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
}

.tiptap h2 {
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 1.3;
  margin-top: 1.25rem;
  margin-bottom: 0.5rem;
}

.tiptap h3 {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.4;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}

.tiptap p {
  margin-bottom: 0.75rem;
}

.tiptap ul,
.tiptap ol {
  padding-left: 1.5rem;
  margin-bottom: 0.75rem;
}

.tiptap ul {
  list-style-type: disc;
}

.tiptap ol {
  list-style-type: decimal;
}

.tiptap li {
  margin-bottom: 0.25rem;
}

.tiptap blockquote {
  border-left: 3px solid #e5e7eb;
  padding-left: 1rem;
  margin: 1rem 0;
  color: #6b7280;
  font-style: italic;
}

.tiptap hr {
  border: none;
  border-top: 2px solid #e5e7eb;
  margin: 1.5rem 0;
}

.tiptap code {
  background-color: #f3f4f6;
  padding: 0.125rem 0.375rem;
  border-radius: 0.25rem;
  font-family: ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace;
  font-size: 0.875em;
}

.tiptap pre {
  background-color: #1f2937;
  color: #f9fafb;
  padding: 1rem;
  border-radius: 0.5rem;
  margin: 1rem 0;
  overflow-x: auto;
}

.tiptap pre code {
  background: none;
  padding: 0;
  color: inherit;
}

.tiptap img {
  max-width: 100%;
  height: auto;
  border-radius: 0.5rem;
  margin: 1rem 0;
}

.tiptap a {
  color: #2563eb;
  text-decoration: underline;
}

.tiptap a:hover {
  color: #1d4ed8;
}

.ProseMirror-selectednode {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
  border-radius: 0.25rem;
}

/* ===== 모바일 반응형 스타일 ===== */

/* 모바일 터치 최적화 */
@layer base {
  html {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
  }

  /* 모바일에서 텍스트 크기 자동 조절 방지 */
  body {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* 모바일에서 input focus 시 zoom 방지 */
  @media screen and (max-width: 768px) {
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    input[type="tel"],
    input[type="url"],
    input[type="search"],
    textarea,
    select {
      font-size: 16px !important;
    }
  }
}

@layer utilities {
  /* 모바일 테이블 가로 스크롤 */
  .mobile-table-wrapper {
    @apply overflow-x-auto -mx-4 px-4;
    -webkit-overflow-scrolling: touch;
  }

  @media screen and (min-width: 768px) {
    .mobile-table-wrapper {
      @apply mx-0 px-0;
    }
  }

  /* 모바일 카드 스타일 */
  .mobile-card {
    @apply bg-white rounded-lg shadow-sm border p-4;
  }

  @media screen and (max-width: 640px) {
    .mobile-card {
      @apply rounded-none border-x-0 -mx-4 px-4;
    }
  }

  /* 터치 친화적 버튼 */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* 모바일 숨김 */
  .hide-mobile {
    @apply hidden sm:block;
  }

  /* 데스크톱 숨김 */
  .hide-desktop {
    @apply block sm:hidden;
  }

  /* 안전 영역 (노치 대응) */
  .safe-area-inset {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* 모바일 풀 너비 버튼 */
  .mobile-full-btn {
    @apply w-full sm:w-auto;
  }

  /* 모바일 스택 레이아웃 */
  .mobile-stack {
    @apply flex flex-col sm:flex-row gap-2 sm:gap-4;
  }

  /* 모바일 그리드 */
  .mobile-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4;
  }
}

/* 모바일에서 스크롤바 숨기기 (터치 스크롤) */
@media screen and (max-width: 768px) {
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
}

/* 모바일 폼 요소 스타일 */
@media screen and (max-width: 640px) {
  /* 모바일에서 Select 높이 조정 */
  [data-radix-select-trigger] {
    min-height: 44px;
  }

  /* 모바일에서 Dialog 너비 조정 */
  [data-radix-dialog-content] {
    max-width: calc(100vw - 2rem) !important;
    max-height: calc(100vh - 4rem) !important;
  }
}