---
name: delivery
description: ë°°ì†¡ ê´€ë¦¬. ë°°ì†¡ ì¤€ë¹„, ì¶œê³ , íƒë°° ì—°ë™, ë°°ì†¡ ì¶”ì  ì‘ì—… ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.
---

# ë°°ì†¡ ê´€ë¦¬ ìŠ¤í‚¬

ì¸ì‡„ì—… ERPì˜ ë°°ì†¡ ê´€ë¦¬ì…ë‹ˆë‹¤.

## ë°°ì†¡ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ë°°ì†¡ ì²˜ë¦¬ íë¦„                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ ê²€ìˆ˜ì™„ë£Œ  â”‚ â†’ â”‚ í¬ì¥ëŒ€ê¸°  â”‚ â†’ â”‚  í¬ì¥    â”‚ â†’ â”‚ ì¶œê³ ëŒ€ê¸°  â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                       â”‚              â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                        â”‚                                             â”‚
â”‚                        â–¼                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚                   ë°°ì†¡ ë°©ë²• ì„ íƒ                      â”‚           â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚   â”‚                                                      â”‚           â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚           â”‚
â”‚   â”‚   â”‚   íƒë°°   â”‚  â”‚   í€µì„œë¹„ìŠ¤ â”‚  â”‚  ì§ì ‘ìˆ˜ë ¹ â”‚         â”‚           â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚           â”‚
â”‚   â”‚        â”‚             â”‚             â”‚               â”‚           â”‚
â”‚   â”‚        â–¼             â–¼             â–¼               â”‚           â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚           â”‚
â”‚   â”‚   â”‚ ì†¡ì¥ë°œí–‰  â”‚  â”‚ ë°°ì°¨ìš”ì²­  â”‚  â”‚ ìˆ˜ë ¹ëŒ€ê¸°  â”‚         â”‚           â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚           â”‚
â”‚   â”‚        â”‚             â”‚             â”‚               â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚            â”‚             â”‚             â”‚                           â”‚
â”‚            â–¼             â–¼             â–¼                           â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚       â”‚  ë°°ì†¡ì¤‘   â”‚  â”‚  ë°°ì†¡ì¤‘   â”‚  â”‚  ìˆ˜ë ¹ì™„ë£Œ â”‚                     â”‚
â”‚       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚            â”‚             â”‚                                         â”‚
â”‚            â–¼             â–¼                                         â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚       â”‚      ë°°ì†¡ì™„ë£Œ        â”‚                                      â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì£¼ë¬¸ ì‹œ ë°°ì†¡ì •ë³´ ì…ë ¥ (íŒŒì¼ì—…ë¡œë“œ)

íŒŒì¼ì—…ë¡œë“œ(ì•¨ë²”ì£¼ë¬¸) ì‹œ í´ë”(ì›íŒ)ë³„ë¡œ ë°°ì†¡ì •ë³´ë¥¼ ì…ë ¥í•œë‹¤.

### ë°°ì†¡ì •ë³´ êµ¬ì¡°

ë°°ì†¡ì •ë³´ëŠ” **ë°œì†¡ì§€**ì™€ **ë°°ì†¡ì§€**ë¥¼ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•œë‹¤.

| êµ¬ë¶„ | ì„ íƒì§€ | ì„¤ëª… |
|------|--------|------|
| **ë°œì†¡ì§€** | í¬í† ë¯¸(ì œì‘íšŒì‚¬) | íšŒì‚¬ ê¸°ì´ˆì •ë³´ì—ì„œ ìë™ ë¡œë“œ |
| | íšŒì›ì •ë³´(ìŠ¤íŠœë””ì˜¤) | ë¡œê·¸ì¸í•œ ê±°ë˜ì²˜(ì£¼ë¬¸ì) ì •ë³´ |
| **ë°°ì†¡ì§€** | íšŒì›ì •ë³´(ìŠ¤íŠœë””ì˜¤) | ë¡œê·¸ì¸í•œ ê±°ë˜ì²˜(ì£¼ë¬¸ì) ì£¼ì†Œ |
| | ì•¨ë²”ê³ ê°(ì‹ ë‘/ì‹ ë¶€) | ì§ì ‘ ì…ë ¥ (ìˆ˜ë ¹ì¸, ì—°ë½ì²˜, ì£¼ì†Œ) |

### ê¶Œìˆ˜ë³„ ê°œë³„ë°°ì†¡

- ì›íŒì´ Nê¶Œ(ë¶€ìˆ˜)ì¸ ê²½ìš°, ê¶Œìˆ˜ë§Œí¼ ë°°ì†¡ì •ë³´ë¥¼ ì¶”ê°€ ì…ë ¥í•  ìˆ˜ ìˆë‹¤
- ì˜ˆ: 2ë¶€ ì£¼ë¬¸ â†’ 1ë¶€ëŠ” ìŠ¤íŠœë””ì˜¤, 1ë¶€ëŠ” ì‹ ë‘ ì§‘ìœ¼ë¡œ ê°ê° ë°°ì†¡
- ì¶”ê°€ ë°°ì†¡ì •ë³´ëŠ” í´ë”ì¹´ë“œ ë‚´ì—ì„œ [+ë°°ì†¡ì¶”ê°€] ë²„íŠ¼ìœ¼ë¡œ ì¶”ê°€

### ë°°ì†¡ ë°©ë²• (4ê°€ì§€)

| ë°©ë²• | ì½”ë“œ | ì„¤ëª… | ë°°ì†¡ë¹„ |
|------|------|------|--------|
| **íƒë°°** | parcel | CJëŒ€í•œí†µìš´, ë¡¯ë°íƒë°° ë“± | ê¸°ì´ˆì •ë³´ì„¤ì • > ë°°ì†¡ë¹„ ê¸°ì¤€ |
| **ì˜¤í† ë°”ì´í€µ** | motorcycle | ì˜¤í† ë°”ì´ í€µì„œë¹„ìŠ¤ | ê¸°ì´ˆì •ë³´ì„¤ì • > ë°°ì†¡ë¹„ ê¸°ì¤€ |
| **í™”ë¬¼** | freight | í™”ë¬¼ ë°°ì†¡ | ê¸°ì´ˆì •ë³´ì„¤ì • > ë°°ì†¡ë¹„ ê¸°ì¤€ |
| **ë°©ë¬¸ìˆ˜ë ¹** | pickup | ê³ ê° ì§ì ‘ ë°©ë¬¸ ìˆ˜ë ¹ | ë¬´ë£Œ |

#### ë°°ì†¡ë°©ë²• ì—­í•  êµ¬ë¶„ (í˜„ì¬ ì •ì±…)

| ë°°ì†¡ë°©ë²• | ê³ ê° ì£¼ë¬¸ í™”ë©´ ì„ íƒ | ë‚´ë¶€(ê´€ë¦¬ì) ì‚¬ìš© | ë¹„ê³  |
|----------|:-----------------:|:---------------:|------|
| `parcel` (íƒë°°) | âœ“ ê¸°ë³¸ ì„ íƒ | âœ“ | **ê±°ë˜ì²˜ ë°°ì†¡ì •ì±…(conditional/free/prepaid/cod) ì ìš© ëŒ€ìƒ** |
| `motorcycle` (ì˜¤í† ë°”ì´í€µ) | âœ“ | âœ“ | ê³ ê°ì´ ì§ì ‘ ì„ íƒ ê°€ëŠ¥. **ê±°ë˜ì²˜ ë°°ì†¡ì •ì±… ë¯¸ì ìš©. í•­ìƒ `baseFee` ì²­êµ¬** |
| `damas` (ë‹¤ë§ˆìŠ¤) | âœ— ê´€ë¦¬ì ì „ìš© | âœ“ | ê³ ê° ì£¼ë¬¸ UI ë¯¸ë…¸ì¶œ. ê´€ë¦¬ì ë°°ì†¡ë¹„ ì„¤ì • ë° ë‚´ë¶€ ì²˜ë¦¬ì—ë§Œ ì‚¬ìš©. **ê±°ë˜ì²˜ ë°°ì†¡ì •ì±… ë¯¸ì ìš©** |
| `freight` (í™”ë¬¼) | âœ“ | âœ“ | ê³ ê°ì´ ì§ì ‘ ì„ íƒ ê°€ëŠ¥. **ê±°ë˜ì²˜ ë°°ì†¡ì •ì±… ë¯¸ì ìš©. í•­ìƒ `baseFee` ì²­êµ¬** |
| `pickup` (ë°©ë¬¸ìˆ˜ë ¹) | âœ“ | âœ“ | í•­ìƒ ë¬´ë£Œ |

> **damas íŠ¹ì´ì‚¬í•­**: `use-delivery-pricing.ts`ì™€ `delivery-settings-content.tsx`(ê´€ë¦¬ì)ì—ëŠ” í¬í•¨ë˜ì–´ ìˆìœ¼ë‚˜,
> ê³ ê° ì£¼ë¬¸ í¼(`folder-shipping-section.tsx`)ì˜ `DELIVERY_METHOD_OPTIONS`ì—ëŠ” ë¯¸í¬í•¨.
> `FolderDeliveryMethod` íƒ€ì…: `'parcel' | 'motorcycle' | 'freight' | 'pickup'` (damas ì—†ìŒ)

### ë°°ì†¡ë¹„ ì‚°ì¶œ ê¸°ì¤€

- ë°°ì†¡ê¸ˆì•¡ì€ **ê¸°ì´ˆì •ë³´ì„¤ì •(ì‹œìŠ¤í…œì„¤ì •) > ë°°ì†¡ë¹„** ì— ë“±ë¡ëœ ê¸ˆì•¡ì„ ê¸°ì¤€ìœ¼ë¡œ ê³ ê°ì—ê²Œ ì²­êµ¬
- ë°°ì†¡ë°©ë²•ë³„ ê¸°ë³¸ìš”ê¸ˆì„ `DeliveryPricing` í…Œì´ë¸”ì—ì„œ ì¡°íšŒ
- ë°©ë¬¸ìˆ˜ë ¹ì€ í•­ìƒ ë¬´ë£Œ
- ê±°ë˜ì²˜ë³„ ë°°ì†¡ë¹„ ì •ì±…(ë¬´ë£Œë°°ì†¡, ì¡°ê±´ë¶€ë¬´ë£Œ, ì°©ë¶ˆ ë“±) ì ìš© ê°€ëŠ¥

### ê±°ë˜ì²˜ë³„ ë°°ì†¡ë¹„ ì •ì±… (shippingType)

`Client` ëª¨ë¸ì˜ `shippingType` í•„ë“œë¡œ ê±°ë˜ì²˜ë³„ ì •ì±…ì„ ê´€ë¦¬í•œë‹¤. ê¸°ë³¸ê°’: `conditional`, ê¸°ì¤€ê¸ˆì•¡ ê¸°ë³¸ê°’: `90,000ì›`

| íƒ€ì… ì½”ë“œ | ì´ë¦„ | ë™ì‘ |
|-----------|------|------|
| `conditional` | ì¡°ê±´ë¶€íƒë°° | ê¸°ì¤€ê¸ˆì•¡(`freeShippingThreshold`) ì´ìƒì´ë©´ ë¬´ë£Œ, ë¯¸ë§Œì´ë©´ ê¸°ë³¸ ë°°ì†¡ë¹„ ì²­êµ¬ |
| `free` | ë¬´ë£Œíƒë°° | í•­ìƒ ë¬´ë£Œ |
| `prepaid` | ì§ë°°ì†¡(ì„ ë¶ˆ) | í•­ìƒ ê¸°ë³¸ ë°°ì†¡ë¹„ ì²­êµ¬ |
| `cod` | ì°©ë¶ˆ | ì£¼ë¬¸ ì‹œ 0ì›, ë°°ì†¡ì‚¬ê°€ ìˆ˜ë ¹ì¸ì—ê²Œ ì§ì ‘ ì§•ìˆ˜ |

> âš ï¸ **ë°°ì†¡ë¹„ ì •ì±…(`conditional`/`free`)ì€ íƒë°°(`parcel`)ì—ë§Œ ì ìš©ë©ë‹ˆë‹¤.**
> ì˜¤í† ë°”ì´í€µ(`motorcycle`), í™”ë¬¼(`freight`) ë“±ì€ ê±°ë˜ì²˜ `shippingType`ì— ê´€ê³„ì—†ì´ í•­ìƒ `DeliveryPricing.baseFee`ë¥¼ ì²­êµ¬í•©ë‹ˆë‹¤.

#### ë°°ì†¡ë¹„ ê³„ì‚° íë¦„

```
ë°°ì†¡ë°©ë²• == pickup(ë°©ë¬¸ìˆ˜ë ¹)?
  â””â”€ YES â†’ 0ì›

ë°°ì†¡ë°©ë²• != parcel(íƒë°°)?  â† motorcycle / freight ë“±
  â””â”€ YES â†’ DeliveryPricing[method].baseFee ê·¸ëŒ€ë¡œ ì²­êµ¬ (ê±°ë˜ì²˜ ì •ì±… ë¯¸ì ìš©)
       â”œâ”€ motorcycle â†’ motorcycle.baseFee
       â””â”€ freight   â†’ freight.baseFee

(ì´í•˜ëŠ” parcel ì „ìš© ë¡œì§)

receiverType == direct_customer(ê³ ê°ì§ë°°ì†¡)?
  â””â”€ YES â†’ DeliveryPricing['parcel'].baseFee ê·¸ëŒ€ë¡œ ì²­êµ¬ (ì •ì±… ë¯¸ì ìš©)

shippingType == 'free'?
  â””â”€ YES â†’ 0ì›

shippingType == 'conditional'?
  â””â”€ ë‹¹ì¼ ëˆ„ì  í•©ì‚° + í˜„ì¬ >= freeShippingThreshold?
       â”œâ”€ YES â†’ 0ì› (ì´ì „ ì£¼ë¬¸ ë°°ì†¡ë¹„ í™˜ê¸‰ë„ ì²˜ë¦¬)
       â””â”€ NO  â†’ DeliveryPricing['parcel'].baseFee ì²­êµ¬

shippingType == 'prepaid'?
  â””â”€ DeliveryPricing['parcel'].baseFee í•­ìƒ ì²­êµ¬

shippingType == 'cod'?
  â””â”€ ì£¼ë¬¸ ì‹œ 0ì› (ë°°ì†¡ì‚¬ ìˆ˜ë ¹ì¸ ì§•ìˆ˜)
```

#### ë‹¹ì¼ í•©ë°°ì†¡ (ì¡°ê±´ë¶€íƒë°° í•µì‹¬ ê¸°ëŠ¥)

- ì¡°ê±´ë¶€íƒë°°(`conditional`) ê±°ë˜ì²˜ ì „ìš©
- ë‹¹ì¼(00:00~23:59) ëˆ„ì  ì£¼ë¬¸ í•©ì‚°ìœ¼ë¡œ ê¸°ì¤€ê¸ˆì•¡ ì¶©ì¡± ì—¬ë¶€ íŒë‹¨
- ê¸°ì¤€ê¸ˆì•¡ ì¶©ì¡± ì‹œ: í˜„ì¬ ì£¼ë¬¸ ë°°ì†¡ë¹„ 0ì› + ì´ì „ ì£¼ë¬¸ ë°°ì†¡ë¹„ ìë™ í™˜ê¸‰(`adjustmentAmount`)
- `receiverType: 'direct_customer'` ì£¼ë¬¸ì€ í•©ì‚°ì—ì„œ **ì œì™¸**
- ì¤‘ë³µ í™˜ê¸‰ ë°©ì§€: `adjustmentAmount` í•„ë“œë¡œ ì´ë¯¸ í™˜ê¸‰ëœ ê¸ˆì•¡ ì¶”ì 
- **ê¸°ì¤€ê¸ˆì•¡ ìš°ì„ ìˆœìœ„**: `Client.freeShippingThreshold` â†’ `DeliveryPricing['parcel'].freeThreshold` â†’ 90,000ì›(ê¸°ë³¸ê°’)

**ì˜ˆì‹œ:**
> ê¸°ì¤€ê¸ˆì•¡ 90,000ì› ê±°ë˜ì²˜
> 1ì°¨ ì£¼ë¬¸ 60,000ì› â†’ ë°°ì†¡ë¹„ 3,500ì› ì²­êµ¬
> 2ì°¨ ì£¼ë¬¸ 40,000ì› â†’ í•©ì‚° 100,000ì› â‰¥ 90,000ì›
> â†’ 2ì°¨ ì£¼ë¬¸ ë°°ì†¡ë¹„ 0ì› + 1ì°¨ ë°°ì†¡ë¹„ 3,500ì› ìë™ í™˜ê¸‰

#### í•©ë°°ì†¡ ì¡°ì •ê¸ˆì•¡(adjustmentAmount) ë©”ì»¤ë‹ˆì¦˜ ìƒì„¸

**adjustmentAmount ì˜ë¯¸**: ì–‘ìˆ˜ = í• ì¸(í™˜ê¸‰). ì£¼ë¬¸ ìµœì¢…ê¸ˆì•¡ì—ì„œ ì°¨ê°.

```
finalAmount = totalAmount(ìƒí’ˆ+ì„¸ê¸ˆ+ë°°ì†¡ë¹„) - adjustmentAmount
```

**í™˜ê¸‰ ì²˜ë¦¬ íë¦„** (í”„ë¡ íŠ¸ì—”ë“œ ì£¼ë„ ë°©ì‹):

1. ì£¼ë¬¸ í˜ì´ì§€ ì§„ì… ì‹œ `GET /orders/same-day-shipping?clientId=...` í˜¸ì¶œ
2. ë°±ì—”ë“œ `getSameDayShipping()` â†’ ë‹¹ì¼ ì´ì „ ì£¼ë¬¸ì˜ ë°°ì†¡ë¹„ í•©ê³„(`totalShippingCharged`) ë°˜í™˜
3. í”„ë¡ íŠ¸ì—”ë“œ `combinedShipping` useMemoì—ì„œ ì¡°ê±´ íŒë‹¨:
   - `combinedTotal(ë‹¹ì¼ëˆ„ì +í˜„ì¬ì¹´íŠ¸) >= freeShippingThreshold` â†’ `isTriggered = true`
   - `shouldRefundPrevious = isTriggered && totalShippingCharged > 0`
4. ì£¼ë¬¸ ìƒì„± DTOì— ì§ì ‘ í¬í•¨ (`apps/web/app/(shop)/order/page.tsx:652`):
   ```js
   od.adjustmentAmount = combinedShipping.totalShippingCharged; // ì´ì „ ë°°ì†¡ë¹„ í•©ê³„
   ```
5. ë°±ì—”ë“œ `createOrder()` â†’ `dto.adjustmentAmount ?? 0` ê·¸ëŒ€ë¡œ DB ì €ì¥

**âš ï¸ process_historyì— `admin_adjustment` ì´ë ¥ì´ ìƒì„±ë˜ì§€ ì•ŠìŒ**
â†’ ì£¼ë¬¸ ìƒì„± ì‹œ DTOì— ì´ë¯¸ í¬í•¨ëœ ê°’ì´ë¯€ë¡œ `order_created` ì´ë ¥ë§Œ ê¸°ë¡ë¨
â†’ ê´€ë¦¬ìê°€ ìˆ˜ë™ ì¡°ì •í•œ ê²½ìš°ë§Œ `admin_adjustment` ì´ë ¥ ìƒì„±ë¨

**ì‹¤ì œ ì‚¬ë¡€ (260221 ì£¼ë¬¸, ì•„ë§ˆë ˆìŠ¤íŠœë””ì˜¤):**

| ì£¼ë¬¸ë²ˆí˜¸ | ë°°ì†¡ë¹„ | ì¡°ì •ê¸ˆì•¡ | ìµœì¢…ê¸ˆì•¡ |
|---------|--------|---------|---------|
| 260221-001~005 | 5,500 Ã— 5ê±´ | 0 | ê° ì •ìƒ |
| **260221-006** | **0** | **27,500** | **-6,600** |

â†’ 27,500 = 5,500ì› Ã— 5ê±´ (ì´ì „ 5ê°œ ì£¼ë¬¸ ë°°ì†¡ë¹„ í•©ê³„)
â†’ 19,000 + 1,900(ì„¸ê¸ˆ) - 27,500 = **-6,600ì›** (ë§ˆì´ë„ˆìŠ¤ = ì„  í™˜ê¸‰)

**ì¤‘ë³µ í™˜ê¸‰ ë°©ì§€** (`getSameDayShipping()` ë‚´):
```
netShippingCharged = max(0, totalShippingCharged - totalAdjustmentApplied)
```
ì´ë¯¸ ë‹¤ë¥¸ ì£¼ë¬¸ì—ì„œ adjustmentAmountë¡œ í™˜ê¸‰ëœ ê¸ˆì•¡ì„ ì°¨ê°í•˜ì—¬ ì¤‘ë³µ ê³µì œ ë°©ì§€.

**ê´€ë ¨ í•¨ìˆ˜**:
- `getSameDayShipping()` - API: `GET /orders/same-day-shipping`
- ì‹¤ì œ í™˜ê¸‰ì€ í”„ë¡ íŠ¸ `order/page.tsx`ì—ì„œ DTOì— ë‹´ì•„ ì£¼ë¬¸ ìƒì„± ì‹œ ì²˜ë¦¬
- **Race condition ë°©ì–´**: `create()` íŠ¸ëœì­ì…˜ ë‚´ë¶€ì—ì„œ ë‹¹ì¼ ê¸°ì ìš© í™˜ê¸‰ ëˆ„ê³„ë¥¼ ì¬ì¡°íšŒí•˜ì—¬ ì´ˆê³¼ í™˜ê¸‰ ì°¨ë‹¨

#### ë°°ì¹˜ ë°°ì†¡ (ë‹¨ì¼ ì£¼ë¬¸ ë‚´ ë³µìˆ˜ ì•„ì´í…œ)

```
ì¡°ê±´ë¶€íƒë°° + ë™ì¼ ì£¼ë¬¸ ë‚´ ìŠ¤íŠœë””ì˜¤ ë°°ì†¡ ì•„ì´í…œ 2ê±´ ì´ìƒ + í•©ê³„ < ê¸°ì¤€ê¸ˆì•¡
â†’ ì²« ë²ˆì§¸ ìŠ¤íŠœë””ì˜¤(orderer) ë°°ì†¡ ì•„ì´í…œ ë°°ì†¡ë¹„ë§Œ 1íšŒ ì²­êµ¬
â†’ direct_customer ì•„ì´í…œì€ ë°°ì¹˜ ëŒ€ìƒ ì œì™¸ (í•­ìƒ ë³„ë„ ì²­êµ¬)
```

#### ë°°ì†¡ë¹„ ì ìš© ìš°ì„ ìˆœìœ„ (order/page.tsx effectiveShippingFee)

```
1ìˆœìœ„: combinedShipping.isTriggered (ë‹¹ì¼í•©ë°°ì†¡ ê¸°ì¤€ê¸ˆì•¡ ì¶©ì¡±)
  â†’ effectiveShippingFee = 0ì›

2ìˆœìœ„: batchSingleShipping (ë³µìˆ˜ ì•„ì´í…œ ë°°ì¹˜ë°°ì†¡)
  â†’ effectiveShippingFee = ì²« ë²ˆì§¸ ìŠ¤íŠœë””ì˜¤ ì•„ì´í…œ ë°°ì†¡ë¹„ë§Œ

3ìˆœìœ„: ê¸°ë³¸
  â†’ effectiveShippingFee = totalShippingFee (ì•„ì´í…œë³„ í•©ì‚°)
```

> ë‹¹ì¼í•©ë°°ì†¡ì´ ë°°ì¹˜ë°°ì†¡ë³´ë‹¤ **í•­ìƒ ìš°ì„ ** ì ìš©ëœë‹¤.
> ë‹¹ì¼í•©ë°°ì†¡ì´ ë°œë™í•˜ë©´ ë°°ì¹˜ë°°ì†¡ ì—¬ë¶€ì™€ ë¬´ê´€í•˜ê²Œ ìµœì¢… ë°°ì†¡ë¹„ëŠ” 0ì›.

#### ê´€ë ¨ êµ¬í˜„ íŒŒì¼

| íŒŒì¼ | ì—­í•  |
|------|------|
| `apps/api/src/modules/order/services/order.service.ts` | `getSameDayShipping()`, `create()` ë‚´ Race condition ë°©ì–´ ë¡œì§ |
| `apps/web/components/album-upload/folder-shipping-section.tsx` | `calculateDeliveryFee()` í•¨ìˆ˜ - íƒ€ì…ë³„ ë°°ì†¡ë¹„ ê³„ì‚° |
| `apps/web/app/(shop)/order/page.tsx` | `combinedShipping`, `batchSingleShipping` useMemo |
| `apps/web/app/(dashboard)/company/members/page.tsx` | ê´€ë¦¬ì ë°°ì†¡ì¡°ê±´ ì„¤ì • UI |
| `apps/api/prisma/schema.prisma` | `Client.shippingType`, `Client.freeShippingThreshold` |

### í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `components/album-upload/folder-card.tsx` | í´ë”ì¹´ë“œ - ë°°ì†¡ì •ë³´ Collapsible ì„¹ì…˜ |
| `components/album-upload/folder-shipping-section.tsx` | ë°œì†¡ì§€/ë°°ì†¡ì§€/ë°°ì†¡ë°©ë²• ì…ë ¥ UI |
| `components/album-upload/multi-folder-upload.tsx` | ì¼ê´„ ë°°ì†¡ì„¤ì • íŒ¨ë„ |
| `components/address-search.tsx` | ë‹¤ìŒ ì£¼ì†Œê²€ìƒ‰ (ì¸ë¼ì¸ embed ì§€ì›) |
| `hooks/use-shipping-data.ts` | íšŒì‚¬ì •ë³´/ê±°ë˜ì²˜ì •ë³´/ë°°ì†¡ë¹„ ë¡œë“œ |
| `hooks/use-delivery-pricing.ts` | ë°°ì†¡ë¹„ ë‹¨ê°€ ì¡°íšŒ |
| `stores/multi-folder-upload-store.ts` | FolderShippingInfo ìƒíƒœê´€ë¦¬ |

### ë°°ì†¡ì •ë³´ ë°ì´í„° êµ¬ì¡° (FolderShippingInfo)

```typescript
interface FolderShippingInfo {
  // ë°œì†¡ì§€
  senderType: 'company' | 'orderer';       // í¬í† ë¯¸(íšŒì‚¬) / ì£¼ë¬¸ì(ìŠ¤íŠœë””ì˜¤)
  senderName: string;
  senderPhone: string;
  senderPostalCode: string;
  senderAddress: string;
  senderAddressDetail: string;

  // ë°°ì†¡ì§€
  receiverType: 'orderer' | 'direct_customer'; // ìŠ¤íŠœë””ì˜¤ / ì•¨ë²”ê³ ê°(ì‹ ë‘/ì‹ ë¶€)
  recipientName: string;
  recipientPhone: string;
  recipientPostalCode: string;
  recipientAddress: string;
  recipientAddressDetail: string;

  // ë°°ì†¡ë°©ë²•
  deliveryMethod: 'parcel' | 'motorcycle' | 'freight' | 'pickup';
  deliveryFee: number;
  deliveryFeeType: string;
}
```

## ë°°ì†¡ ë°©ë²• (ì¶œê³ /ìš´ì˜)

| ë°©ë²• | ì„¤ëª… | ë¹„ìš© ë¶€ë‹´ |
|------|------|-----------|
| **íƒë°°** | CJëŒ€í•œí†µìš´, ë¡¯ë°íƒë°° ë“± | ì°©ë¶ˆ/ì„ ë¶ˆ |
| **í€µì„œë¹„ìŠ¤** | ì˜¤í† ë°”ì´/ë‹¤ë§ˆìŠ¤ | ì°©ë¶ˆ/ì„ ë¶ˆ |
| **ì§ì ‘ìˆ˜ë ¹** | ê³ ê° ë°©ë¬¸ ìˆ˜ë ¹ | ë¬´ë£Œ |
| **ìì²´ë°°ì†¡** | ìì‚¬ ë°°ì†¡ ì°¨ëŸ‰ | ë¬´ë£Œ/ìœ ë£Œ |

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì‹¤ì œ ì‚¬ìš© ì½”ë“œê°’ (Enum ì—†ì´ Stringìœ¼ë¡œ ê´€ë¦¬)

> âš ï¸ Prisma schemaì— `DeliveryMethod`, `DeliveryStatus`, `PaymentType` **Enum íƒ€ì…ì€ ì •ì˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤**.
> í•´ë‹¹ í•„ë“œë“¤ì€ ëª¨ë‘ `String` íƒ€ì…ìœ¼ë¡œ ì•„ë˜ ë¬¸ìì—´ ê°’ì„ ì§ì ‘ ì‚¬ìš©í•©ë‹ˆë‹¤.
>
> âœ… **`DeliveryPricing` ëª¨ë¸ ìì²´ëŠ” schema.prismaì— ì™„ì „íˆ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤** (baseFee, distanceRanges, sizeRanges, islandFee, freeThreshold ë“± í¬í•¨).

```typescript
// ë°°ì†¡ë°©ë²• ì½”ë“œ (DeliveryPricing.deliveryMethod, OrderItemShipping.deliveryMethod)
type DeliveryMethodCode = 'parcel' | 'motorcycle' | 'damas' | 'freight' | 'pickup';

// ë°°ì†¡ ìƒíƒœ ê´€ë ¨ ì½”ë“œ (String í•„ë“œì—ì„œ ì‚¬ìš©ë˜ëŠ” ê°’)
const DELIVERY_STATUS_VALUES = {
  PENDING:        'pending',         // ë°°ì†¡ëŒ€ê¸°
  PACKAGING:      'packaging',       // í¬ì¥ì¤‘
  READY:          'ready',           // ì¶œê³ ëŒ€ê¸°
  SHIPPED:        'shipped',         // ë°°ì†¡ì¤‘
  DELIVERED:      'delivered',       // ë°°ì†¡ì™„ë£Œ
  RETURNED:       'returned',        // ë°˜ì†¡
  PICKUP_WAITING: 'pickup_waiting',  // ìˆ˜ë ¹ëŒ€ê¸°
  PICKED_UP:      'picked_up',       // ìˆ˜ë ¹ì™„ë£Œ
};
```

### ë°°ì†¡ ëª¨ë¸

```prisma
model Delivery {
  id              String          @id @default(cuid())

  // ì£¼ë¬¸ ì—°ê²°
  orderId         String
  order           Order           @relation(fields: [orderId], references: [id])

  // ë°°ì†¡ ì •ë³´
  deliveryNo      String          @unique   // ë°°ì†¡ë²ˆí˜¸
  method          DeliveryMethod            // ë°°ì†¡ ë°©ë²•
  status          DeliveryStatus  @default(PENDING)

  // ìˆ˜ë ¹ì¸ ì •ë³´
  recipientName   String                    // ìˆ˜ë ¹ì¸
  recipientPhone  String                    // ì—°ë½ì²˜
  recipientPhone2 String?                   // ì—°ë½ì²˜2

  // ë°°ì†¡ì§€
  zipCode         String?
  address         String                    // ê¸°ë³¸ ì£¼ì†Œ
  addressDetail   String?                   // ìƒì„¸ ì£¼ì†Œ

  // íƒë°° ì •ë³´
  carrierId       String?                   // íƒë°°ì‚¬ ID
  carrier         Carrier?        @relation(fields: [carrierId], references: [id])
  trackingNo      String?                   // ì†¡ì¥ë²ˆí˜¸
  trackingUrl     String?                   // ë°°ì†¡ì¡°íšŒ URL

  // ë¹„ìš©
  shippingFee     Decimal         @default(0) @db.Decimal(10, 2)
  paymentType     PaymentType     @default(PREPAID)

  // ì¼ì •
  requestedDate   DateTime?                 // í¬ë§ ë°°ì†¡ì¼
  shippedAt       DateTime?                 // ë°œì†¡ì¼ì‹œ
  deliveredAt     DateTime?                 // ë°°ì†¡ì™„ë£Œì¼ì‹œ

  // ë©”ëª¨
  memo            String?                   // ë°°ì†¡ ë©”ëª¨
  deliveryMemo    String?                   // ê¸°ì‚¬ë‹˜ê»˜ ë©”ëª¨

  // ì´ë ¥
  history         DeliveryHistory[]

  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt
  createdBy       String

  @@index([orderId])
  @@index([status])
  @@index([trackingNo])
  @@map("deliveries")
}
```

### íƒë°°ì‚¬ ëª¨ë¸

```prisma
model Carrier {
  id              String      @id @default(cuid())
  name            String                    // íƒë°°ì‚¬ëª…
  code            String      @unique       // íƒë°°ì‚¬ ì½”ë“œ

  // API ì—°ë™ ì •ë³´
  apiUrl          String?                   // API URL
  trackingUrlTemplate String?               // ì¡°íšŒ URL í…œí”Œë¦¿

  // ìš”ê¸ˆ
  basePrice       Decimal     @db.Decimal(10, 2)  // ê¸°ë³¸ ìš”ê¸ˆ
  additionalPrice Decimal     @db.Decimal(10, 2)  // ì¶”ê°€ ìš”ê¸ˆ (kgë‹¹)

  // ì •ì‚°
  accountNo       String?                   // ê³„ì•½ ê³„ì •ë²ˆí˜¸

  isActive        Boolean     @default(true)
  deliveries      Delivery[]

  @@map("carriers")
}
```

### ë°°ì†¡ ì´ë ¥ ëª¨ë¸

```prisma
model DeliveryHistory {
  id              String          @id @default(cuid())
  deliveryId      String
  delivery        Delivery        @relation(fields: [deliveryId], references: [id], onDelete: Cascade)

  fromStatus      DeliveryStatus?
  toStatus        DeliveryStatus
  location        String?                   // ìœ„ì¹˜ ì •ë³´
  description     String?                   // ìƒì„¸ ë‚´ìš©
  changedBy       String
  changedAt       DateTime        @default(now())

  @@map("delivery_history")
}
```

## íƒë°°ì‚¬ ì—°ë™

### ì§€ì› íƒë°°ì‚¬

| íƒë°°ì‚¬ | ì½”ë“œ | API ì—°ë™ | ì†¡ì¥ ì¶œë ¥ |
|--------|------|:--------:|:--------:|
| CJëŒ€í•œí†µìš´ | CJ | âœ“ | âœ“ |
| ë¡¯ë°íƒë°° | LOTTE | âœ“ | âœ“ |
| í•œì§„íƒë°° | HANJIN | âœ“ | âœ“ |
| ë¡œì  íƒë°° | LOGEN | âœ“ | âœ“ |
| ìš°ì²´êµ­íƒë°° | EPOST | âœ“ | âœ“ |

### ì†¡ì¥ë²ˆí˜¸ ë°œê¸‰

```typescript
interface TrackingRequest {
  carrierId: string;
  senderName: string;
  senderPhone: string;
  senderAddress: string;
  recipientName: string;
  recipientPhone: string;
  recipientAddress: string;
  productName: string;
  quantity: number;
  weight?: number;
}

async function requestTrackingNumber(params: TrackingRequest): Promise<string> {
  const carrier = await prisma.carrier.findUnique({
    where: { id: params.carrierId },
  });

  // íƒë°°ì‚¬ API í˜¸ì¶œ
  const response = await callCarrierAPI(carrier, params);

  return response.trackingNo;
}
```

### ë°°ì†¡ ì¶”ì 

```typescript
interface TrackingInfo {
  trackingNo: string;
  carrier: string;
  status: string;
  currentLocation: string;
  history: {
    time: DateTime;
    location: string;
    status: string;
    description: string;
  }[];
}

async function getTrackingInfo(deliveryId: string): Promise<TrackingInfo> {
  const delivery = await prisma.delivery.findUnique({
    where: { id: deliveryId },
    include: { carrier: true },
  });

  if (!delivery.trackingNo) {
    throw new BadRequestException('ì†¡ì¥ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.');
  }

  // íƒë°°ì‚¬ API í˜¸ì¶œí•˜ì—¬ ë°°ì†¡ ì¡°íšŒ
  const trackingInfo = await callTrackingAPI(
    delivery.carrier,
    delivery.trackingNo
  );

  return trackingInfo;
}
```

## ì†¡ì¥ ì¶œë ¥

```typescript
// ì†¡ì¥ ì¶œë ¥ ë°ì´í„°
interface ShippingLabel {
  // ë°œì†¡ì¸
  senderName: string;
  senderPhone: string;
  senderZipCode: string;
  senderAddress: string;

  // ìˆ˜ë ¹ì¸
  recipientName: string;
  recipientPhone: string;
  recipientZipCode: string;
  recipientAddress: string;

  // ìƒí’ˆ ì •ë³´
  productName: string;
  quantity: number;

  // ì†¡ì¥ë²ˆí˜¸
  trackingNo: string;
  barcode: string;

  // ë©”ëª¨
  memo?: string;
}

async function printShippingLabel(deliveryId: string): Promise<Buffer> {
  const delivery = await getDeliveryWithDetails(deliveryId);

  // âš ï¸ ì•„ë˜ ë°œì†¡ì¸ ì •ë³´ëŠ” placeholder â€” ì‹¤ì œ êµ¬í˜„ ì‹œ SystemSettings ë˜ëŠ” íšŒì‚¬ ê¸°ì´ˆì •ë³´ì—ì„œ ë™ì ìœ¼ë¡œ ë¡œë“œí•´ì•¼ í•¨
  const labelData: ShippingLabel = {
    senderName: 'PHOTOME í¬í† ë¯¸',
    senderPhone: '02-1234-5678',
    senderZipCode: '12345',
    senderAddress: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123',
    recipientName: delivery.recipientName,
    recipientPhone: delivery.recipientPhone,
    recipientZipCode: delivery.zipCode,
    recipientAddress: `${delivery.address} ${delivery.addressDetail}`,
    productName: delivery.order.items[0].productName,
    quantity: delivery.order.items.length,
    trackingNo: delivery.trackingNo,
    barcode: generateBarcode(delivery.trackingNo),
    memo: delivery.deliveryMemo,
  };

  return generateLabelPDF(labelData);
}
```

## API ì—”ë“œí¬ì¸íŠ¸

```
# ë°°ì†¡
GET    /api/v1/deliveries                      # ë°°ì†¡ ëª©ë¡
GET    /api/v1/deliveries/:id                  # ë°°ì†¡ ìƒì„¸
POST   /api/v1/deliveries                      # ë°°ì†¡ ìƒì„±
PUT    /api/v1/deliveries/:id                  # ë°°ì†¡ ìˆ˜ì •
PATCH  /api/v1/deliveries/:id/status           # ìƒíƒœ ë³€ê²½

# ì†¡ì¥
POST   /api/v1/deliveries/:id/tracking         # ì†¡ì¥ë²ˆí˜¸ ë°œê¸‰
GET    /api/v1/deliveries/:id/tracking         # ë°°ì†¡ ì¡°íšŒ
POST   /api/v1/deliveries/:id/label            # ì†¡ì¥ ì¶œë ¥

# íƒë°°ì‚¬
GET    /api/v1/carriers                        # íƒë°°ì‚¬ ëª©ë¡
GET    /api/v1/carriers/:id                    # íƒë°°ì‚¬ ìƒì„¸

# ëŒ€ëŸ‰ ì²˜ë¦¬
POST   /api/v1/deliveries/bulk-ship            # ëŒ€ëŸ‰ ë°œì†¡
POST   /api/v1/deliveries/bulk-label           # ëŒ€ëŸ‰ ì†¡ì¥ ì¶œë ¥

# ì£¼ì†Œ
GET    /api/v1/address/search                  # ì£¼ì†Œ ê²€ìƒ‰ (ë‹¤ìŒ API)
```

## ë°°ì†¡ë¹„ ê³„ì‚° (ì‹¤ì œ êµ¬í˜„)

ì‹¤ì œ ë°°ì†¡ë¹„ ê³„ì‚°ì€ `apps/web/components/album-upload/folder-shipping-section.tsx`ì˜
`calculateDeliveryFee()` í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

```typescript
// íŒŒë¼ë¯¸í„°
// - method: 'parcel' | 'motorcycle' | 'freight' | 'pickup'
// - recvType: 'orderer'(ìŠ¤íŠœë””ì˜¤) | 'direct_customer'(ì‹ ë‘/ì‹ ë¶€ ë“±)
// - studioTotal: í˜„ì¬ ì¹´íŠ¸(í´ë”)ì˜ ìŠ¤íŠœë””ì˜¤ ë°°ì†¡ ì•„ì´í…œ í•©ê³„ (ë‹¹ì¼ ëˆ„ì  ì•„ë‹˜)
// - clientInfo.shippingType: ê±°ë˜ì²˜ ë°°ì†¡ ì •ì±…
// - pricingMap: DeliveryPricing í…Œì´ë¸” ë°ì´í„°

function calculateDeliveryFee(method, recvType) {
  // 1. ë°©ë¬¸ìˆ˜ë ¹: í•­ìƒ ë¬´ë£Œ
  if (method === 'pickup') return { fee: 0, feeType: 'free' };

  // 2. ìŠ¤íŠœë””ì˜¤(ì£¼ë¬¸ì) ë°°ì†¡
  if (recvType === 'orderer') {
    // âš ï¸ íƒë°°(parcel)ê°€ ì•„ë‹Œ ê²½ìš°: ê±°ë˜ì²˜ ë°°ì†¡ì •ì±… ë¯¸ì ìš©, baseFee ê·¸ëŒ€ë¡œ ì²­êµ¬
    // ì˜¤í† ë°”ì´í€µ(motorcycle), í™”ë¬¼(freight) ë“±ì€ conditional/free ì •ì±… ëŒ€ìƒ ì•„ë‹˜
    if (method !== 'parcel') {
      return { fee: pricingMap[method]?.baseFee ?? 0, feeType: 'standard' };
    }

    // ì´í•˜ íƒë°°(parcel) ì „ìš© ì •ì±… ë¡œì§
    // ê¸°ì¤€ê¸ˆì•¡ ìš°ì„ ìˆœìœ„: Client â†’ DeliveryPricing['parcel'].freeThreshold â†’ 90,000ì›
    const freeThreshold = clientInfo?.freeShippingThreshold
      ?? (pricingMap['parcel']?.freeThreshold != null ? Number(pricingMap['parcel'].freeThreshold) : 90000);

    if (shippingType === 'free')
      return { fee: 0, feeType: 'free' };

    if (shippingType === 'conditional') {
      // studioTotalì´ ê¸°ì¤€ê¸ˆì•¡ ì´ìƒì´ë©´ ë¬´ë£Œ
      if (studioTotal >= freeThreshold) return { fee: 0, feeType: 'free' };
      return { fee: pricingMap['parcel'].baseFee, feeType: 'conditional' };
    }

    if (shippingType === 'prepaid')
      return { fee: pricingMap['parcel'].baseFee, feeType: 'standard' };

    // cod (ì°©ë¶ˆ): ì£¼ë¬¸ ì‹œ 0ì›, ë°°ì†¡ì‚¬ê°€ ìˆ˜ë ¹ì¸ì—ê²Œ ì§ì ‘ ì§•ìˆ˜
    return { fee: 0, feeType: 'free' };
  }

  // 3. ê³ ê°ì§ë°°ì†¡ (ì‹ ë‘/ì‹ ë¶€ ë“±): ê±°ë˜ì²˜ ì •ì±… ë¯¸ì ìš©, ë°°ì†¡ë°©ë²•ë³„ baseFee ê·¸ëŒ€ë¡œ
  return { fee: pricingMap[method]?.baseFee ?? 3500, feeType: 'standard' };
}
```

> **studioTotal ì£¼ì˜**: `calculateDeliveryFee()`ì˜ `studioTotal`ì€ **í˜„ì¬ ì¹´íŠ¸(í´ë”) í•©ê³„**ì…ë‹ˆë‹¤.
> ë‹¹ì¼ í•©ë°°ì†¡(ì´ì „ ì£¼ë¬¸ ëˆ„ì  + í˜„ì¬ ì¹´íŠ¸)ì€ ë³„ë„ë¡œ `order/page.tsx`ì˜ `combinedShipping` useMemoì—ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

## í”„ë¡ íŠ¸ì—”ë“œ - ë°°ì†¡ ê´€ë¦¬ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë°°ì†¡ê´€ë¦¬                                              [ëŒ€ëŸ‰ë°œì†¡] [ì—‘ì…€]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì „ì²´] [ë°°ì†¡ëŒ€ê¸°:15] [ë°°ì†¡ì¤‘:8] [ë°°ì†¡ì™„ë£Œ:42]                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê²€ìƒ‰: [_______________]  íƒë°°ì‚¬: [ì „ì²´ â–¼]  ê¸°ê°„: [___] ~ [___]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–¡  â”‚ ì£¼ë¬¸ë²ˆí˜¸  â”‚ ìˆ˜ë ¹ì¸  â”‚ ì—°ë½ì²˜    â”‚ íƒë°°ì‚¬  â”‚ ì†¡ì¥ë²ˆí˜¸ â”‚  ìƒíƒœ   â”‚ ì¶œë ¥â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ â–¡  â”‚ORD-001   â”‚ ê¹€ê³ ê°  â”‚010-1234- â”‚ CJëŒ€í•œ â”‚12345678â”‚ ë°°ì†¡ì¤‘  â”‚ ğŸ“„ â”‚ â”‚
â”‚ â”‚ â–¡  â”‚ORD-002   â”‚ ì´ê³ ê°  â”‚010-2345- â”‚   -    â”‚   -    â”‚ ëŒ€ê¸°    â”‚  -  â”‚ â”‚
â”‚ â”‚ â–¡  â”‚ORD-003   â”‚ ë°•ê³ ê°  â”‚010-3456- â”‚ ë¡¯ë°   â”‚87654321â”‚ ë°°ì†¡ì™„ë£Œ â”‚ ğŸ“„ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                         â”‚
â”‚ ì„ íƒ: 2ê±´  [ì†¡ì¥ë°œê¸‰] [ì†¡ì¥ì¶œë ¥] [ë°°ì†¡ì™„ë£Œì²˜ë¦¬]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ë°°ì†¡ë¹„ ì„¤ì • í˜ì´ì§€ (ê¸°ì´ˆì •ë³´ì„¤ì • > ë°°ì†¡ë¹„)

**íŒŒì¼**:
- í˜ì´ì§€: `apps/web/app/(dashboard)/settings/delivery/page.tsx`
- í•µì‹¬ ì»´í¬ë„ŒíŠ¸: `apps/web/components/settings/delivery-settings-content.tsx` (ì‹¤ì œ í¼ ë¡œì§)

### ë°°ì†¡ë°©ë²•ë³„ ì„¤ì • í•­ëª©

| ë°©ë²• | ì„¤ì • í•­ëª© |
|------|-----------|
| ì˜¤í† ë°”ì´(í€µ) | ê±°ë¦¬ë³„ ë‹¨ê°€(êµ¬ê°„), ì´ˆê³¼ kmë‹¹ ì¶”ê°€ìš”ê¸ˆ, ìµœëŒ€ ê¸°ë³¸ê±°ë¦¬, ì•¼ê°„/ì£¼ë§ í• ì¦ë¥ , ì•¼ê°„ ì‹œê°„ |
| ë‹¤ë§ˆìŠ¤ | ê±°ë¦¬ë³„ ë‹¨ê°€(êµ¬ê°„), ì´ˆê³¼ kmë‹¹ ì¶”ê°€ìš”ê¸ˆ, ìµœëŒ€ ê¸°ë³¸ê±°ë¦¬, ì•¼ê°„/ì£¼ë§ í• ì¦ë¥  |
| íƒë°° | ê¸°ë³¸ìš”ê¸ˆ, ë„ì„œì‚°ê°„ ì¶”ê°€ìš”ê¸ˆ, ë¬´ë£Œë°°ì†¡ ê¸°ì¤€ê¸ˆì•¡ |
| í™”ë¬¼ | ê¸°ë³¸ìš”ê¸ˆ, í¬ê¸°ë³„ ë‹¨ê°€(ì†Œí˜•/ì¤‘í˜•/ëŒ€í˜•/íŠ¹ëŒ€í˜•), ì•¼ê°„/ì£¼ë§ í• ì¦ë¥  |
| ë°©ë¬¸ìˆ˜ë ¹ | ê¸°ë³¸ìš”ê¸ˆ(í•­ìƒ 0ì›) |

### ë°°ì†¡ë¹„ ì„¤ì • API ì—”ë“œí¬ì¸íŠ¸

```
GET  /delivery-pricing              # ì „ì²´ ë°°ì†¡ë¹„ ì„¤ì • ì¡°íšŒ
GET  /delivery-pricing/{method}     # íŠ¹ì • ë°©ë²• ì„¤ì • ì¡°íšŒ
PUT  /delivery-pricing/{method}     # ë°°ì†¡ë¹„ ì„¤ì • ì €ì¥
POST /delivery-pricing/initialize   # ê¸°ë³¸ê°’ ì´ˆê¸°í™”
POST /delivery-pricing/calculate    # ë°°ì†¡ë¹„ ê³„ì‚° (ì‹œë®¬ë ˆì´ì…˜)
POST /delivery-pricing/calculate-by-address  # ì£¼ì†Œ ê¸°ë°˜ ë°°ì†¡ë¹„ ê³„ì‚°
```

### CSV ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ (êµ¬í˜„ ì™„ë£Œ)

ë°°ì†¡ë¹„ ì„¤ì • í˜ì´ì§€ í—¤ë”ì— "CSV ë‹¤ìš´ë¡œë“œ" ë²„íŠ¼ì´ ìˆë‹¤. í´ë¦­ ì‹œ í˜„ì¬ `formData` ê¸°ì¤€ìœ¼ë¡œ 5ê°œ ì„¹ì…˜ì˜ CSV íŒŒì¼ ìƒì„±.

**CSV ì„¹ì…˜ êµ¬ì„±:**
1. `[ë°°ì†¡ë°©ë²• ê¸°ë³¸ ìš”ì•½]` â€” ë°©ë²•ë³„ ê¸°ë³¸ìš”ê¸ˆÂ·í™œì„±í™”
2. `[ê±°ë¦¬ë³„ ë‹¨ê°€ - ì˜¤í† ë°”ì´(í€µ)]` / `[ê±°ë¦¬ë³„ ë‹¨ê°€ - ë‹¤ë§ˆìŠ¤]` â€” êµ¬ê°„ë³„ ìš”ê¸ˆ
3. `[í• ì¦ ì„¤ì •]` â€” ì•¼ê°„/ì£¼ë§ í• ì¦ë¥ 
4. `[íƒë°° ì„¤ì •]` â€” ë„ì„œì‚°ê°„ ì¶”ê°€ìš”ê¸ˆ, ë¬´ë£Œë°°ì†¡ ê¸°ì¤€ê¸ˆì•¡
5. `[í™”ë¬¼ í¬ê¸°ë³„ ë‹¨ê°€]` â€” í¬ê¸°ë³„ ì¶”ê°€ìš”ê¸ˆ

**íŒŒì¼ëª…**: `ë°°ì†¡ë¹„ì •ì±…_YYYYMMDD.csv` (BOM í¬í•¨, ì—‘ì…€ í•œê¸€ ì •ìƒ í‘œì‹œ)

**CSV ë‹¤ìš´ë¡œë“œ ê³µí†µ íŒ¨í„´** (í”„ë¡œì íŠ¸ ì „ë°˜ì— ë™ì¼í•˜ê²Œ ì ìš©):
```typescript
const csvContent = '\uFEFF' + rows.join('\n'); // BOM í¬í•¨
const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
const link = document.createElement('a');
link.href = URL.createObjectURL(blob);
link.download = `íŒŒì¼ëª…_${format(new Date(), 'yyyyMMdd')}.csv`;
document.body.appendChild(link);
link.click();
document.body.removeChild(link);
```

## ì²´í¬ë¦¬ìŠ¤íŠ¸

ë°°ì†¡ ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„ ì‹œ í™•ì¸ì‚¬í•­:

- [x] ê±°ë˜ì²˜ë³„ ë°°ì†¡ë¹„ ì •ì±… (conditional/free/prepaid/cod)
- [x] ë‹¹ì¼ í•©ë°°ì†¡ ìë™ í™˜ê¸‰
- [x] ë°°ì¹˜ ë°°ì†¡ (ë³µìˆ˜ ì•„ì´í…œ 1íšŒ ì²­êµ¬)
- [x] ë°°ì†¡ë¹„ ì„¤ì • CSV ë‹¤ìš´ë¡œë“œ
- [ ] ë°°ì†¡ CRUD
- [ ] ë°°ì†¡ ë°©ë²• ì„ íƒ (íƒë°°/í€µ/ì§ì ‘ìˆ˜ë ¹)
- [ ] íƒë°°ì‚¬ ì—°ë™
  - [ ] ì†¡ì¥ë²ˆí˜¸ ë°œê¸‰ API
  - [ ] ë°°ì†¡ ì¡°íšŒ API
- [ ] ì†¡ì¥ ì¶œë ¥ (PDF)
- [ ] ëŒ€ëŸ‰ ë°œì†¡ ì²˜ë¦¬
- [ ] ì£¼ì†Œ ê²€ìƒ‰ (ë‹¤ìŒ ì£¼ì†Œ API)
- [ ] ë°°ì†¡ ìƒíƒœ ìë™ ì—…ë°ì´íŠ¸
- [ ] ë°°ì†¡ ì•Œë¦¼ (SMS/ì¹´ì¹´ì˜¤)
- [ ] ë„ì„œì‚°ê°„ ì§€ì—­ ì²˜ë¦¬
