---
name: delivery
description: ë°°ì†¡ ê´€ë¦¬. ë°°ì†¡ ì¤€ë¹„, ì¶œê³ , íƒë°° ì—°ë™, ë°°ì†¡ ì¶”ì  ì‘ì—… ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤.
---

# ë°°ì†¡ ê´€ë¦¬ ìŠ¤í‚¬

ì¸ì‡„ì—… ERPì˜ ë°°ì†¡ ê´€ë¦¬ì…ë‹ˆë‹¤.

## ë°°ì†¡ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ë°°ì†¡ ì²˜ë¦¬ íë¦„                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ ê²€ìˆ˜ì™„ë£Œ  â”‚ â†’ â”‚ í¬ì¥ëŒ€ê¸°  â”‚ â†’ â”‚  í¬ì¥    â”‚ â†’ â”‚ ì¶œê³ ëŒ€ê¸°  â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                       â”‚              â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                        â”‚                                             â”‚
â”‚                        â–¼                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚                   ë°°ì†¡ ë°©ë²• ì„ íƒ                      â”‚           â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚   â”‚                                                      â”‚           â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚           â”‚
â”‚   â”‚   â”‚   íƒë°°   â”‚  â”‚   í€µì„œë¹„ìŠ¤ â”‚  â”‚  ì§ì ‘ìˆ˜ë ¹ â”‚         â”‚           â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚           â”‚
â”‚   â”‚        â”‚             â”‚             â”‚               â”‚           â”‚
â”‚   â”‚        â–¼             â–¼             â–¼               â”‚           â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚           â”‚
â”‚   â”‚   â”‚ ì†¡ì¥ë°œí–‰  â”‚  â”‚ ë°°ì°¨ìš”ì²­  â”‚  â”‚ ìˆ˜ë ¹ëŒ€ê¸°  â”‚         â”‚           â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚           â”‚
â”‚   â”‚        â”‚             â”‚             â”‚               â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚            â”‚             â”‚             â”‚                           â”‚
â”‚            â–¼             â–¼             â–¼                           â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚       â”‚  ë°°ì†¡ì¤‘   â”‚  â”‚  ë°°ì†¡ì¤‘   â”‚  â”‚  ìˆ˜ë ¹ì™„ë£Œ â”‚                     â”‚
â”‚       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚            â”‚             â”‚                                         â”‚
â”‚            â–¼             â–¼                                         â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚       â”‚      ë°°ì†¡ì™„ë£Œ        â”‚                                      â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì£¼ë¬¸ ì‹œ ë°°ì†¡ì •ë³´ ì…ë ¥ (íŒŒì¼ì—…ë¡œë“œ)

íŒŒì¼ì—…ë¡œë“œ(ì•¨ë²”ì£¼ë¬¸) ì‹œ í´ë”(ì›íŒ)ë³„ë¡œ ë°°ì†¡ì •ë³´ë¥¼ ì…ë ¥í•œë‹¤.

### ë°°ì†¡ì •ë³´ êµ¬ì¡°

ë°°ì†¡ì •ë³´ëŠ” **ë°œì†¡ì§€**ì™€ **ë°°ì†¡ì§€**ë¥¼ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•œë‹¤.

| êµ¬ë¶„ | ì„ íƒì§€ | ì„¤ëª… |
|------|--------|------|
| **ë°œì†¡ì§€** | í¬í† ë¯¸(ì œì‘íšŒì‚¬) | íšŒì‚¬ ê¸°ì´ˆì •ë³´ì—ì„œ ìë™ ë¡œë“œ |
| | íšŒì›ì •ë³´(ìŠ¤íŠœë””ì˜¤) | ë¡œê·¸ì¸í•œ ê±°ë˜ì²˜(ì£¼ë¬¸ì) ì •ë³´ |
| **ë°°ì†¡ì§€** | íšŒì›ì •ë³´(ìŠ¤íŠœë””ì˜¤) | ë¡œê·¸ì¸í•œ ê±°ë˜ì²˜(ì£¼ë¬¸ì) ì£¼ì†Œ |
| | ì•¨ë²”ê³ ê°(ì‹ ë‘/ì‹ ë¶€) | ì§ì ‘ ì…ë ¥ (ìˆ˜ë ¹ì¸, ì—°ë½ì²˜, ì£¼ì†Œ) |

### ê¶Œìˆ˜ë³„ ê°œë³„ë°°ì†¡

- ì›íŒì´ Nê¶Œ(ë¶€ìˆ˜)ì¸ ê²½ìš°, ê¶Œìˆ˜ë§Œí¼ ë°°ì†¡ì •ë³´ë¥¼ ì¶”ê°€ ì…ë ¥í•  ìˆ˜ ìˆë‹¤
- ì˜ˆ: 2ë¶€ ì£¼ë¬¸ â†’ 1ë¶€ëŠ” ìŠ¤íŠœë””ì˜¤, 1ë¶€ëŠ” ì‹ ë‘ ì§‘ìœ¼ë¡œ ê°ê° ë°°ì†¡
- ì¶”ê°€ ë°°ì†¡ì •ë³´ëŠ” í´ë”ì¹´ë“œ ë‚´ì—ì„œ [+ë°°ì†¡ì¶”ê°€] ë²„íŠ¼ìœ¼ë¡œ ì¶”ê°€

### ë°°ì†¡ ë°©ë²• (4ê°€ì§€)

| ë°©ë²• | ì½”ë“œ | ì„¤ëª… | ë°°ì†¡ë¹„ |
|------|------|------|--------|
| **íƒë°°** | parcel | CJëŒ€í•œí†µìš´, ë¡¯ë°íƒë°° ë“± | ê¸°ì´ˆì •ë³´ì„¤ì • > ë°°ì†¡ë¹„ ê¸°ì¤€ |
| **ì˜¤í† ë°”ì´í€µ** | motorcycle | ì˜¤í† ë°”ì´ í€µì„œë¹„ìŠ¤ | ê¸°ì´ˆì •ë³´ì„¤ì • > ë°°ì†¡ë¹„ ê¸°ì¤€ |
| **í™”ë¬¼** | freight | í™”ë¬¼ ë°°ì†¡ | ê¸°ì´ˆì •ë³´ì„¤ì • > ë°°ì†¡ë¹„ ê¸°ì¤€ |
| **ë°©ë¬¸ìˆ˜ë ¹** | pickup | ê³ ê° ì§ì ‘ ë°©ë¬¸ ìˆ˜ë ¹ | ë¬´ë£Œ |

### ë°°ì†¡ë¹„ ì‚°ì¶œ ê¸°ì¤€

- ë°°ì†¡ê¸ˆì•¡ì€ **ê¸°ì´ˆì •ë³´ì„¤ì •(ì‹œìŠ¤í…œì„¤ì •) > ë°°ì†¡ë¹„** ì— ë“±ë¡ëœ ê¸ˆì•¡ì„ ê¸°ì¤€ìœ¼ë¡œ ê³ ê°ì—ê²Œ ì²­êµ¬
- ë°°ì†¡ë°©ë²•ë³„ ê¸°ë³¸ìš”ê¸ˆì„ `DeliveryPricing` í…Œì´ë¸”ì—ì„œ ì¡°íšŒ
- ë°©ë¬¸ìˆ˜ë ¹ì€ í•­ìƒ ë¬´ë£Œ
- ê±°ë˜ì²˜ë³„ ë°°ì†¡ë¹„ ì •ì±…(ë¬´ë£Œë°°ì†¡, ì¡°ê±´ë¶€ë¬´ë£Œ, ì°©ë¶ˆ ë“±) ì ìš© ê°€ëŠ¥

### í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `components/album-upload/folder-card.tsx` | í´ë”ì¹´ë“œ - ë°°ì†¡ì •ë³´ Collapsible ì„¹ì…˜ |
| `components/album-upload/folder-shipping-section.tsx` | ë°œì†¡ì§€/ë°°ì†¡ì§€/ë°°ì†¡ë°©ë²• ì…ë ¥ UI |
| `components/album-upload/multi-folder-upload.tsx` | ì¼ê´„ ë°°ì†¡ì„¤ì • íŒ¨ë„ |
| `components/address-search.tsx` | ë‹¤ìŒ ì£¼ì†Œê²€ìƒ‰ (ì¸ë¼ì¸ embed ì§€ì›) |
| `hooks/use-shipping-data.ts` | íšŒì‚¬ì •ë³´/ê±°ë˜ì²˜ì •ë³´/ë°°ì†¡ë¹„ ë¡œë“œ |
| `hooks/use-delivery-pricing.ts` | ë°°ì†¡ë¹„ ë‹¨ê°€ ì¡°íšŒ |
| `stores/multi-folder-upload-store.ts` | FolderShippingInfo ìƒíƒœê´€ë¦¬ |

### ë°°ì†¡ì •ë³´ ë°ì´í„° êµ¬ì¡° (FolderShippingInfo)

```typescript
interface FolderShippingInfo {
  // ë°œì†¡ì§€
  senderType: 'company' | 'orderer';       // í¬í† ë¯¸(íšŒì‚¬) / ì£¼ë¬¸ì(ìŠ¤íŠœë””ì˜¤)
  senderName: string;
  senderPhone: string;
  senderPostalCode: string;
  senderAddress: string;
  senderAddressDetail: string;

  // ë°°ì†¡ì§€
  receiverType: 'orderer' | 'direct_customer'; // ìŠ¤íŠœë””ì˜¤ / ì•¨ë²”ê³ ê°(ì‹ ë‘/ì‹ ë¶€)
  recipientName: string;
  recipientPhone: string;
  recipientPostalCode: string;
  recipientAddress: string;
  recipientAddressDetail: string;

  // ë°°ì†¡ë°©ë²•
  deliveryMethod: 'parcel' | 'motorcycle' | 'freight' | 'pickup';
  deliveryFee: number;
  deliveryFeeType: string;
}
```

## ë°°ì†¡ ë°©ë²• (ì¶œê³ /ìš´ì˜)

| ë°©ë²• | ì„¤ëª… | ë¹„ìš© ë¶€ë‹´ |
|------|------|-----------|
| **íƒë°°** | CJëŒ€í•œí†µìš´, ë¡¯ë°íƒë°° ë“± | ì°©ë¶ˆ/ì„ ë¶ˆ |
| **í€µì„œë¹„ìŠ¤** | ì˜¤í† ë°”ì´/ë‹¤ë§ˆìŠ¤ | ì°©ë¶ˆ/ì„ ë¶ˆ |
| **ì§ì ‘ìˆ˜ë ¹** | ê³ ê° ë°©ë¬¸ ìˆ˜ë ¹ | ë¬´ë£Œ |
| **ìì²´ë°°ì†¡** | ìì‚¬ ë°°ì†¡ ì°¨ëŸ‰ | ë¬´ë£Œ/ìœ ë£Œ |

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### Enum ì •ì˜

```prisma
enum DeliveryStatus {
  PENDING           // ë°°ì†¡ëŒ€ê¸°
  PACKAGING         // í¬ì¥ì¤‘
  READY             // ì¶œê³ ëŒ€ê¸°
  SHIPPED           // ë°°ì†¡ì¤‘
  DELIVERED         // ë°°ì†¡ì™„ë£Œ
  RETURNED          // ë°˜ì†¡
  PICKUP_WAITING    // ìˆ˜ë ¹ëŒ€ê¸°
  PICKED_UP         // ìˆ˜ë ¹ì™„ë£Œ
}

enum DeliveryMethod {
  PARCEL            // íƒë°°
  QUICK             // í€µì„œë¹„ìŠ¤
  SELF_PICKUP       // ì§ì ‘ìˆ˜ë ¹
  OWN_DELIVERY      // ìì²´ë°°ì†¡
}

enum PaymentType {
  PREPAID           // ì„ ë¶ˆ
  COD               // ì°©ë¶ˆ (Cash on Delivery)
  FREE              // ë¬´ë£Œ
}
```

### ë°°ì†¡ ëª¨ë¸

```prisma
model Delivery {
  id              String          @id @default(cuid())

  // ì£¼ë¬¸ ì—°ê²°
  orderId         String
  order           Order           @relation(fields: [orderId], references: [id])

  // ë°°ì†¡ ì •ë³´
  deliveryNo      String          @unique   // ë°°ì†¡ë²ˆí˜¸
  method          DeliveryMethod            // ë°°ì†¡ ë°©ë²•
  status          DeliveryStatus  @default(PENDING)

  // ìˆ˜ë ¹ì¸ ì •ë³´
  recipientName   String                    // ìˆ˜ë ¹ì¸
  recipientPhone  String                    // ì—°ë½ì²˜
  recipientPhone2 String?                   // ì—°ë½ì²˜2

  // ë°°ì†¡ì§€
  zipCode         String?
  address         String                    // ê¸°ë³¸ ì£¼ì†Œ
  addressDetail   String?                   // ìƒì„¸ ì£¼ì†Œ

  // íƒë°° ì •ë³´
  carrierId       String?                   // íƒë°°ì‚¬ ID
  carrier         Carrier?        @relation(fields: [carrierId], references: [id])
  trackingNo      String?                   // ì†¡ì¥ë²ˆí˜¸
  trackingUrl     String?                   // ë°°ì†¡ì¡°íšŒ URL

  // ë¹„ìš©
  shippingFee     Decimal         @default(0) @db.Decimal(10, 2)
  paymentType     PaymentType     @default(PREPAID)

  // ì¼ì •
  requestedDate   DateTime?                 // í¬ë§ ë°°ì†¡ì¼
  shippedAt       DateTime?                 // ë°œì†¡ì¼ì‹œ
  deliveredAt     DateTime?                 // ë°°ì†¡ì™„ë£Œì¼ì‹œ

  // ë©”ëª¨
  memo            String?                   // ë°°ì†¡ ë©”ëª¨
  deliveryMemo    String?                   // ê¸°ì‚¬ë‹˜ê»˜ ë©”ëª¨

  // ì´ë ¥
  history         DeliveryHistory[]

  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt
  createdBy       String

  @@index([orderId])
  @@index([status])
  @@index([trackingNo])
  @@map("deliveries")
}
```

### íƒë°°ì‚¬ ëª¨ë¸

```prisma
model Carrier {
  id              String      @id @default(cuid())
  name            String                    // íƒë°°ì‚¬ëª…
  code            String      @unique       // íƒë°°ì‚¬ ì½”ë“œ

  // API ì—°ë™ ì •ë³´
  apiUrl          String?                   // API URL
  trackingUrlTemplate String?               // ì¡°íšŒ URL í…œí”Œë¦¿

  // ìš”ê¸ˆ
  basePrice       Decimal     @db.Decimal(10, 2)  // ê¸°ë³¸ ìš”ê¸ˆ
  additionalPrice Decimal     @db.Decimal(10, 2)  // ì¶”ê°€ ìš”ê¸ˆ (kgë‹¹)

  // ì •ì‚°
  accountNo       String?                   // ê³„ì•½ ê³„ì •ë²ˆí˜¸

  isActive        Boolean     @default(true)
  deliveries      Delivery[]

  @@map("carriers")
}
```

### ë°°ì†¡ ì´ë ¥ ëª¨ë¸

```prisma
model DeliveryHistory {
  id              String          @id @default(cuid())
  deliveryId      String
  delivery        Delivery        @relation(fields: [deliveryId], references: [id], onDelete: Cascade)

  fromStatus      DeliveryStatus?
  toStatus        DeliveryStatus
  location        String?                   // ìœ„ì¹˜ ì •ë³´
  description     String?                   // ìƒì„¸ ë‚´ìš©
  changedBy       String
  changedAt       DateTime        @default(now())

  @@map("delivery_history")
}
```

## íƒë°°ì‚¬ ì—°ë™

### ì§€ì› íƒë°°ì‚¬

| íƒë°°ì‚¬ | ì½”ë“œ | API ì—°ë™ | ì†¡ì¥ ì¶œë ¥ |
|--------|------|:--------:|:--------:|
| CJëŒ€í•œí†µìš´ | CJ | âœ“ | âœ“ |
| ë¡¯ë°íƒë°° | LOTTE | âœ“ | âœ“ |
| í•œì§„íƒë°° | HANJIN | âœ“ | âœ“ |
| ë¡œì  íƒë°° | LOGEN | âœ“ | âœ“ |
| ìš°ì²´êµ­íƒë°° | EPOST | âœ“ | âœ“ |

### ì†¡ì¥ë²ˆí˜¸ ë°œê¸‰

```typescript
interface TrackingRequest {
  carrierId: string;
  senderName: string;
  senderPhone: string;
  senderAddress: string;
  recipientName: string;
  recipientPhone: string;
  recipientAddress: string;
  productName: string;
  quantity: number;
  weight?: number;
}

async function requestTrackingNumber(params: TrackingRequest): Promise<string> {
  const carrier = await prisma.carrier.findUnique({
    where: { id: params.carrierId },
  });

  // íƒë°°ì‚¬ API í˜¸ì¶œ
  const response = await callCarrierAPI(carrier, params);

  return response.trackingNo;
}
```

### ë°°ì†¡ ì¶”ì 

```typescript
interface TrackingInfo {
  trackingNo: string;
  carrier: string;
  status: string;
  currentLocation: string;
  history: {
    time: DateTime;
    location: string;
    status: string;
    description: string;
  }[];
}

async function getTrackingInfo(deliveryId: string): Promise<TrackingInfo> {
  const delivery = await prisma.delivery.findUnique({
    where: { id: deliveryId },
    include: { carrier: true },
  });

  if (!delivery.trackingNo) {
    throw new BadRequestException('ì†¡ì¥ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.');
  }

  // íƒë°°ì‚¬ API í˜¸ì¶œí•˜ì—¬ ë°°ì†¡ ì¡°íšŒ
  const trackingInfo = await callTrackingAPI(
    delivery.carrier,
    delivery.trackingNo
  );

  return trackingInfo;
}
```

## ì†¡ì¥ ì¶œë ¥

```typescript
// ì†¡ì¥ ì¶œë ¥ ë°ì´í„°
interface ShippingLabel {
  // ë°œì†¡ì¸
  senderName: string;
  senderPhone: string;
  senderZipCode: string;
  senderAddress: string;

  // ìˆ˜ë ¹ì¸
  recipientName: string;
  recipientPhone: string;
  recipientZipCode: string;
  recipientAddress: string;

  // ìƒí’ˆ ì •ë³´
  productName: string;
  quantity: number;

  // ì†¡ì¥ë²ˆí˜¸
  trackingNo: string;
  barcode: string;

  // ë©”ëª¨
  memo?: string;
}

async function printShippingLabel(deliveryId: string): Promise<Buffer> {
  const delivery = await getDeliveryWithDetails(deliveryId);

  const labelData: ShippingLabel = {
    senderName: 'PHOTOME í¬í† ë¯¸',
    senderPhone: '02-1234-5678',
    senderZipCode: '12345',
    senderAddress: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123',
    recipientName: delivery.recipientName,
    recipientPhone: delivery.recipientPhone,
    recipientZipCode: delivery.zipCode,
    recipientAddress: `${delivery.address} ${delivery.addressDetail}`,
    productName: delivery.order.items[0].productName,
    quantity: delivery.order.items.length,
    trackingNo: delivery.trackingNo,
    barcode: generateBarcode(delivery.trackingNo),
    memo: delivery.deliveryMemo,
  };

  return generateLabelPDF(labelData);
}
```

## API ì—”ë“œí¬ì¸íŠ¸

```
# ë°°ì†¡
GET    /api/v1/deliveries                      # ë°°ì†¡ ëª©ë¡
GET    /api/v1/deliveries/:id                  # ë°°ì†¡ ìƒì„¸
POST   /api/v1/deliveries                      # ë°°ì†¡ ìƒì„±
PUT    /api/v1/deliveries/:id                  # ë°°ì†¡ ìˆ˜ì •
PATCH  /api/v1/deliveries/:id/status           # ìƒíƒœ ë³€ê²½

# ì†¡ì¥
POST   /api/v1/deliveries/:id/tracking         # ì†¡ì¥ë²ˆí˜¸ ë°œê¸‰
GET    /api/v1/deliveries/:id/tracking         # ë°°ì†¡ ì¡°íšŒ
POST   /api/v1/deliveries/:id/label            # ì†¡ì¥ ì¶œë ¥

# íƒë°°ì‚¬
GET    /api/v1/carriers                        # íƒë°°ì‚¬ ëª©ë¡
GET    /api/v1/carriers/:id                    # íƒë°°ì‚¬ ìƒì„¸

# ëŒ€ëŸ‰ ì²˜ë¦¬
POST   /api/v1/deliveries/bulk-ship            # ëŒ€ëŸ‰ ë°œì†¡
POST   /api/v1/deliveries/bulk-label           # ëŒ€ëŸ‰ ì†¡ì¥ ì¶œë ¥

# ì£¼ì†Œ
GET    /api/v1/address/search                  # ì£¼ì†Œ ê²€ìƒ‰ (ë‹¤ìŒ API)
```

## ë°°ì†¡ë¹„ ê³„ì‚°

```typescript
interface ShippingFeeParams {
  method: DeliveryMethod;
  carrierId?: string;
  weight?: number;        // kg
  boxCount?: number;      // ë°•ìŠ¤ ìˆ˜
  zipCode: string;
  isIsland?: boolean;     // ë„ì„œì‚°ê°„
}

async function calculateShippingFee(params: ShippingFeeParams): Promise<number> {
  const { method, carrierId, weight, boxCount, zipCode, isIsland } = params;

  // ì§ì ‘ìˆ˜ë ¹ì€ ë¬´ë£Œ
  if (method === 'SELF_PICKUP') {
    return 0;
  }

  // í€µì„œë¹„ìŠ¤
  if (method === 'QUICK') {
    return calculateQuickServiceFee(zipCode);
  }

  // íƒë°°
  const carrier = await prisma.carrier.findUnique({
    where: { id: carrierId },
  });

  let fee = carrier.basePrice;

  // ë¬´ê²Œ ì¶”ê°€ ìš”ê¸ˆ
  if (weight && weight > 2) {
    fee += (weight - 2) * carrier.additionalPrice;
  }

  // ë°•ìŠ¤ ì¶”ê°€
  if (boxCount && boxCount > 1) {
    fee += (boxCount - 1) * carrier.basePrice;
  }

  // ë„ì„œì‚°ê°„ ì¶”ê°€
  if (isIsland) {
    fee += 3000;
  }

  return fee;
}
```

## í”„ë¡ íŠ¸ì—”ë“œ - ë°°ì†¡ ê´€ë¦¬ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë°°ì†¡ê´€ë¦¬                                              [ëŒ€ëŸ‰ë°œì†¡] [ì—‘ì…€]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ì „ì²´] [ë°°ì†¡ëŒ€ê¸°:15] [ë°°ì†¡ì¤‘:8] [ë°°ì†¡ì™„ë£Œ:42]                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê²€ìƒ‰: [_______________]  íƒë°°ì‚¬: [ì „ì²´ â–¼]  ê¸°ê°„: [___] ~ [___]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–¡  â”‚ ì£¼ë¬¸ë²ˆí˜¸  â”‚ ìˆ˜ë ¹ì¸  â”‚ ì—°ë½ì²˜    â”‚ íƒë°°ì‚¬  â”‚ ì†¡ì¥ë²ˆí˜¸ â”‚  ìƒíƒœ   â”‚ ì¶œë ¥â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ â–¡  â”‚ORD-001   â”‚ ê¹€ê³ ê°  â”‚010-1234- â”‚ CJëŒ€í•œ â”‚12345678â”‚ ë°°ì†¡ì¤‘  â”‚ ğŸ“„ â”‚ â”‚
â”‚ â”‚ â–¡  â”‚ORD-002   â”‚ ì´ê³ ê°  â”‚010-2345- â”‚   -    â”‚   -    â”‚ ëŒ€ê¸°    â”‚  -  â”‚ â”‚
â”‚ â”‚ â–¡  â”‚ORD-003   â”‚ ë°•ê³ ê°  â”‚010-3456- â”‚ ë¡¯ë°   â”‚87654321â”‚ ë°°ì†¡ì™„ë£Œ â”‚ ğŸ“„ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                         â”‚
â”‚ ì„ íƒ: 2ê±´  [ì†¡ì¥ë°œê¸‰] [ì†¡ì¥ì¶œë ¥] [ë°°ì†¡ì™„ë£Œì²˜ë¦¬]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì²´í¬ë¦¬ìŠ¤íŠ¸

ë°°ì†¡ ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„ ì‹œ í™•ì¸ì‚¬í•­:

- [ ] ë°°ì†¡ CRUD
- [ ] ë°°ì†¡ ë°©ë²• ì„ íƒ (íƒë°°/í€µ/ì§ì ‘ìˆ˜ë ¹)
- [ ] íƒë°°ì‚¬ ì—°ë™
  - [ ] ì†¡ì¥ë²ˆí˜¸ ë°œê¸‰ API
  - [ ] ë°°ì†¡ ì¡°íšŒ API
- [ ] ì†¡ì¥ ì¶œë ¥ (PDF)
- [ ] ëŒ€ëŸ‰ ë°œì†¡ ì²˜ë¦¬
- [ ] ë°°ì†¡ë¹„ ê³„ì‚°
- [ ] ì£¼ì†Œ ê²€ìƒ‰ (ë‹¤ìŒ ì£¼ì†Œ API)
- [ ] ë°°ì†¡ ìƒíƒœ ìë™ ì—…ë°ì´íŠ¸
- [ ] ë°°ì†¡ ì•Œë¦¼ (SMS/ì¹´ì¹´ì˜¤)
- [ ] ë„ì„œì‚°ê°„ ì§€ì—­ ì²˜ë¦¬
